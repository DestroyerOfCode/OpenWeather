{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/src/component/WeatherListComponent.js\";\nimport React, { Component } from 'react';\nimport WeatherService from '../service/WeatherService';\nimport Pagination from './Pagination';\n\nclass WeatherListComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changeFilters = (index, filterName, filterOperator) => {\n      let arr = this.state.filters;\n      console.log(\"arr inside changefilters: \" + arr);\n      if (arr[index][filterName][filterOperator]) delete arr[index][filterName][filterOperator];\n      if (Object.keys(arr[index][filterName]).length === 0) arr.splice(index, 1);\n      return arr;\n    };\n\n    this.paginate = currentPage => {\n      this.setState({\n        currentPage: currentPage\n      });\n    };\n\n    this.state = {\n      weathers: [],\n      isAscending: true,\n      filters: [],\n      isFilter: false,\n      currentPage: 1,\n      itemsPerPage: 1000,\n      loading: false,\n      isAdditionalFilter: false,\n      pageNumbers: []\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"som v componentDidMOunt\");\n    this.refreshWeathers();\n  }\n\n  refreshWeathers(sortBy, weathers) {\n    WeatherService.retrieveAllWeathers(sortBy, this.state.isAscending, this.state.filters, this.state.isFilter, this.state.isAdditionalFilter, weathers).then(response => {\n      this.setState({\n        weathers: response.data\n      });\n    }).then(() => {\n      if (sortBy) this.setState({\n        isAscending: !this.state.isAscending\n      });\n    }).then(() => {\n      if (typeof this.state.filters !== 'undefined' && this.state.pageNumbers.filters === 0) this.setState({\n        isFilter: false\n      });\n    });\n  }\n\n  keyExistsInArr(arr, key) {\n    let exists = false;\n    arr === null || arr === void 0 ? void 0 : arr.some(item => {\n      if (item.hasOwnProperty([key])) {\n        exists = true;\n        return true;\n      } else return false;\n    });\n    return exists;\n  }\n\n  findIndexInFilters(arr, key) {\n    let indexOfKey = 0;\n    arr === null || arr === void 0 ? void 0 : arr.some((filterName, index, filters) => {\n      if (filterName.hasOwnProperty([key])) {\n        indexOfKey = index;\n        return indexOfKey;\n      } else return false;\n    });\n    return indexOfKey;\n  }\n\n  onBlurEvent(event, filterName, filterOperator) {\n    if (event.target.value === \"\" && this.keyExistsInArr(this.state.filters, filterName)) {\n      var index = this.findIndexInFilters(this.state.filters, filterName);\n      console.log(\"this.state.filters inside 1: \" + this.state.filters);\n      this.setState({\n        currentPage: 1,\n        isFilter: true,\n        isAdditionalFilter: false,\n        filters: () => this.changeFilters(index, filterName, filterOperator)\n      }, function () {\n        console.log(\"inside 1\"); // this.state.currentPage = 0\n\n        console.log(\"isFilter: \" + this.state.isFilter); // if (this.state.filters[index][filterName][filterOperator])\n        //     delete this.state.filters[index][filterName][filterOperator]  \n        //     console.log(\"filters is: \" + JSON.stringify(this.state.filters))\n        //     console.log(\"filters length: \" + this.state.filters.length)\n        // if (Object.keys(this.state.filters[index][filterName]).length === 0)\n        //     this.state.filters.splice(index, 1)\n        // if (typeof this.state.filters !== 'undefined' && this.state.filters.length === 0) this.setState({isFilter : false})\n\n        this.refreshWeathers(this.state.sortBy, this.state.weathers);\n      });\n    } else if (event.target.value !== \"\" && !this.keyExistsInArr(this.state.filters, filterName)) {\n      console.log(\"inside 2\");\n      console.log(\"filters outside: \" + this.state.filters);\n      console.log(\"penis\");\n      this.setState({\n        currentPage: 1,\n        isFilter: true,\n        isAdditionalFilter: true,\n        filters: this.state.filters.concat([{\n          [filterName]: {\n            [filterOperator]: event.target.value\n          }\n        }])\n      }, function () {\n        console.log(\"filters inside: \" + this.state.filters);\n        this.refreshWeathers(this.state.sortBy, this.state.weathers);\n      });\n    } else if (event.target.value !== \"\" && this.keyExistsInArr(this.state.filters, filterName)) {\n      console.log(\"inside 3\");\n      this.setState({\n        currentPage: 1,\n        isFilter: true,\n        isAdditionalFilter: true\n      }, function () {\n        this.state.filters.forEach((item, index, filters) => {\n          if (item.hasOwnProperty([filterName])) {\n            filters[index][filterName][filterOperator] = event.target.value;\n          }\n        });\n        this.refreshWeathers(this.state.sortBy, this.state.weathers);\n      });\n    } else {\n      console.log(\"inside 4\");\n    }\n  }\n\n  filters() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Id\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"_id\", \"eq\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"City name\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"name\", \"eq\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Country\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"sys.country\", \"eq\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Latitude smaller than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"coord.lat\", \"lte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Latitude bigger than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"coord.lat\", \"gte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Longitude smaller than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"coord.lon\", \"lte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Longitude bigger than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"coord.lon\", \"gte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Humidity smaller than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.humidity\", \"lte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Humidity bigger than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.humidity\", \"gte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Feel temperature smaller than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.feels_like\", \"lte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Feel temperature bigger than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.feels_like\", \"gte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Temperature smaller than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.temp\", \"lte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Temperature bigger than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.temp\", \"gte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Temperature max smaller than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.temp_max\", \"lte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Temperature max bigger than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.temp_max\", \"gte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Temperature min smaller than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.temp_min\", \"lte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Temperature min bigger than\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"weatherMain.temp_min\", \"gte\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Description\",\n        onBlur: event => {\n          this.onBlurEvent(event, \"description\", \"eq\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }, this);\n  }\n\n  header() {\n    return /*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"_id\", this.state.weathers),\n          children: \"cityId\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"name\", this.state.weathers),\n          children: \"city Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"coord.lat\", this.state.weathers),\n          children: \"latitude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"coord.lon\", this.state.weathers),\n          children: \"longitude\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"sys.country\", this.state.weathers),\n          children: \"country\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"weatherMain.humidity\", this.state.weathers),\n          children: \"humidity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"weatherMain.feels_like\", this.state.weathers),\n          children: \"feels like\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"weatherMain.temp\", this.state.weathers),\n          children: \"temperature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"weatherMain.temp_max\", this.state.weathers),\n          children: \"maximum temperature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"weatherMain.temp_min\", this.state.weathers),\n          children: \"minimal temperature\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          onClick: () => this.refreshWeathers(\"description\", this.state.weathers),\n          children: \"description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 16\n    }, this);\n  }\n\n  mainBody(currentPosts) {\n    return /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: currentPosts.map(weather => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.coord.lat\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.coord.lon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.sys.country\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.weatherMain.humidity\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.weatherMain.feels_like\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.weatherMain.temp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.weatherMain.temp_max\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.weatherMain.temp_min\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: weather.weather[0].description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 25\n        }, this)]\n      }, weather._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }, this);\n  }\n\n  render() {\n    console.log(\"som v render\"); //to set page\n\n    const pagination = /*#__PURE__*/_jsxDEV(Pagination, {\n      itemsPerPage: this.state.itemsPerPage,\n      totalItems: this.state.weathers.length,\n      paginate: this.paginate.bind()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 28\n    }, this);\n\n    const indexOfLastPost = this.state.currentPage * this.state.itemsPerPage;\n    const indexOfFirstPost = indexOfLastPost - this.state.itemsPerPage;\n    const currentWeathers = this.state.weathers.slice(indexOfFirstPost, indexOfLastPost);\n    let container = [this.filters(), pagination];\n    if (this.state.weathers) container.push( /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [this.header(), this.mainBody(currentWeathers)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 28\n    }, this));\n    console.log(\"items per page: \" + this.state.itemsPerPage);\n    console.log(\"currentPage: \" + this.state.currentPage);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: container\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default WeatherListComponent;","map":{"version":3,"sources":["/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/src/component/WeatherListComponent.js"],"names":["React","Component","WeatherService","Pagination","WeatherListComponent","constructor","props","changeFilters","index","filterName","filterOperator","arr","state","filters","console","log","Object","keys","length","splice","paginate","currentPage","setState","weathers","isAscending","isFilter","itemsPerPage","loading","isAdditionalFilter","pageNumbers","componentDidMount","refreshWeathers","sortBy","retrieveAllWeathers","then","response","data","keyExistsInArr","key","exists","some","item","hasOwnProperty","findIndexInFilters","indexOfKey","onBlurEvent","event","target","value","concat","forEach","header","mainBody","currentPosts","map","weather","_id","name","coord","lat","lon","sys","country","weatherMain","humidity","feels_like","temp","temp_max","temp_min","description","render","pagination","bind","indexOfLastPost","indexOfFirstPost","currentWeathers","slice","container","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport WeatherService from '../service/WeatherService';\nimport Pagination from './Pagination';\n\nclass WeatherListComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            weathers: [],\n            isAscending: true,\n            filters: [],\n            isFilter : false,\n            currentPage : 1,\n            itemsPerPage : 1000,\n            loading : false,\n            isAdditionalFilter : false,\n            pageNumbers : []\n        }\n    }\n\n    componentDidMount() {\n        console.log(\"som v componentDidMOunt\")\n        this.refreshWeathers();\n    }\n\n    refreshWeathers(sortBy, weathers) {\n        WeatherService.retrieveAllWeathers(sortBy, this.state.isAscending, this.state.filters, this.state.isFilter, this.state.isAdditionalFilter, weathers)\n            .then(\n                response => {\n                    this.setState({ weathers: response.data })\n\n                }\n            ).then( () => {if (sortBy) this.setState({isAscending : !this.state.isAscending})}\n            ).then( () => {if (typeof this.state.filters !== 'undefined' && this.state.pageNumbers.filters === 0) this.setState({isFilter : false})})\n    }\n\n    keyExistsInArr(arr, key){\n        let exists = false\n        arr?.some(item => {\n            if(item.hasOwnProperty([key])) {\n                exists = true; return true\n            }\n            else return false\n        })\n        return exists\n    }\n\n    findIndexInFilters(arr, key){\n        let indexOfKey = 0\n        arr?.some((filterName, index, filters) => {\n            if(filterName.hasOwnProperty([key])){ \n                indexOfKey = index\n                return indexOfKey\n            }\n            else return false\n        })\n        return indexOfKey\n    }\n\n    changeFilters = (index, filterName, filterOperator) => {\n        let arr = this.state.filters\n        console.log(\"arr inside changefilters: \" + arr)\n\n        if (arr[index][filterName][filterOperator])\n            delete arr[index][filterName][filterOperator]  \n        if (Object.keys(arr[index][filterName]).length === 0)\n            arr.splice(index, 1)\n        return arr\n    }\n    onBlurEvent(event, filterName, filterOperator){\n        if (event.target.value === \"\" && this.keyExistsInArr(this.state.filters,filterName))  {\n            var index = this.findIndexInFilters(this.state.filters, filterName)\n            console.log(\"this.state.filters inside 1: \" + this.state.filters)\n            this.setState({currentPage : 1, isFilter : true, isAdditionalFilter : false, filters : () => this.changeFilters(index, filterName, filterOperator)}, function () {\n\n                console.log(\"inside 1\") \n                // this.state.currentPage = 0\n                console.log(\"isFilter: \" + this.state.isFilter) \n    \n    \n                // if (this.state.filters[index][filterName][filterOperator])\n                //     delete this.state.filters[index][filterName][filterOperator]  \n    \n                //     console.log(\"filters is: \" + JSON.stringify(this.state.filters))\n                //     console.log(\"filters length: \" + this.state.filters.length)\n    \n                // if (Object.keys(this.state.filters[index][filterName]).length === 0)\n                //     this.state.filters.splice(index, 1)\n                // if (typeof this.state.filters !== 'undefined' && this.state.filters.length === 0) this.setState({isFilter : false})\n    \n                this.refreshWeathers(this.state.sortBy, this.state.weathers)\n\n            })\n\n        }\n\n        else if (event.target.value !== \"\" && !(this.keyExistsInArr(this.state.filters, filterName))){\n\n            console.log(\"inside 2\")\n            console.log(\"filters outside: \" + this.state.filters)\n            console.log(\"penis\")\n            this.setState({currentPage : 1, isFilter : true, isAdditionalFilter : true,\n                 filters: this.state.filters.concat([{[filterName]: {[filterOperator] : event.target.value}}])}, function () {\n                console.log(\"filters inside: \" + this.state.filters)\n                this.refreshWeathers(this.state.sortBy, this.state.weathers)\n            })\n\n        }\n\n        else if (event.target.value !== \"\" && (this.keyExistsInArr(this.state.filters, filterName))){\n\n            console.log(\"inside 3\")        \n            this.setState({currentPage : 1, isFilter : true, isAdditionalFilter : true}, function() {\n\n                this.state.filters.forEach((item, index, filters) => {\n                    if (item.hasOwnProperty([filterName])){\n                        filters[index][filterName][filterOperator] = event.target.value\n                    }\n                })\n                this.refreshWeathers(this.state.sortBy, this.state.weathers)\n            })\n           \n        }\n        else {\n            console.log(\"inside 4\")\n\n        }\n    }\n\n   filters() {\n        return (<div className=\"row\">\n        {<textarea placeholder= \"Id\" onBlur= {event => {this.onBlurEvent(event, \"_id\", \"eq\")}}></textarea>}\n        {<textarea placeholder= \"City name\" onBlur= {event =>{this.onBlurEvent(event, \"name\", \"eq\")}}></textarea>}\n        {<textarea placeholder= \"Country\" onBlur= {event =>{this.onBlurEvent(event, \"sys.country\", \"eq\")}}></textarea>}\n        {<textarea placeholder= \"Latitude smaller than\" onBlur= {event =>{this.onBlurEvent(event, \"coord.lat\", \"lte\")}}></textarea>}\n        {<textarea placeholder= \"Latitude bigger than\" onBlur= {event =>{this.onBlurEvent(event, \"coord.lat\", \"gte\")}}></textarea>}\n        {<textarea placeholder= \"Longitude smaller than\" onBlur= {event =>{this.onBlurEvent(event, \"coord.lon\", \"lte\")}}></textarea>}\n        {<textarea placeholder= \"Longitude bigger than\" onBlur= {event =>{this.onBlurEvent(event, \"coord.lon\", \"gte\")}}></textarea>}\n        {<textarea placeholder= \"Humidity smaller than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.humidity\", \"lte\")}}></textarea>}\n        {<textarea placeholder= \"Humidity bigger than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.humidity\", \"gte\")}}></textarea>}\n        {<textarea placeholder= \"Feel temperature smaller than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.feels_like\", \"lte\")}}></textarea>}\n        {<textarea placeholder= \"Feel temperature bigger than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.feels_like\", \"gte\")}}></textarea>}\n        {<textarea placeholder= \"Temperature smaller than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.temp\", \"lte\")}}></textarea>}\n        {<textarea placeholder= \"Temperature bigger than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.temp\", \"gte\")}}></textarea>}\n        {<textarea placeholder= \"Temperature max smaller than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.temp_max\", \"lte\")}}></textarea>}\n        {<textarea placeholder= \"Temperature max bigger than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.temp_max\", \"gte\")}}></textarea>}\n        {<textarea placeholder= \"Temperature min smaller than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.temp_min\", \"lte\")}}></textarea>}\n        {<textarea placeholder= \"Temperature min bigger than\" onBlur= {event =>{this.onBlurEvent(event, \"weatherMain.temp_min\", \"gte\")}}></textarea>}\n        {<textarea placeholder= \"Description\" onBlur= {event =>{this.onBlurEvent(event, \"description\", \"eq\")}}></textarea>}\n    </div>)\n   }\n\n   header(){\n       return (<thead>\n       <tr>\n           <th onClick={() =>this.refreshWeathers(\"_id\", this.state.weathers) }>cityId</th>\n           <th onClick={() =>this.refreshWeathers(\"name\", this.state.weathers) }>city Name</th>\n           <th onClick={() =>this.refreshWeathers(\"coord.lat\", this.state.weathers) }>latitude</th>\n           <th onClick={() =>this.refreshWeathers(\"coord.lon\", this.state.weathers) }>longitude</th>\n           <th onClick={() =>this.refreshWeathers(\"sys.country\", this.state.weathers) }>country</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.humidity\", this.state.weathers) }>humidity</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.feels_like\", this.state.weathers) }>feels like</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.temp\", this.state.weathers) }>temperature</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.temp_max\", this.state.weathers) }>maximum temperature</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.temp_min\", this.state.weathers) }>minimal temperature</th>\n           <th onClick={() =>this.refreshWeathers(\"description\", this.state.weathers) }>description</th>                                \n       </tr>\n   </thead>)\n   }\n\n   mainBody(currentPosts){\n    return (\n\n    <tbody>\n        {\n            currentPosts.map(\n                weather =>\n                    <tr key={weather._id}>\n                        <td>{weather._id}</td>\n                        <td>{weather.name}</td>\n                        <td>{weather.coord.lat}</td>\n                        <td>{weather.coord.lon}</td>\n                        <td>{weather.sys.country}</td>\n                        <td>{weather.weatherMain.humidity}</td>\n                        <td>{weather.weatherMain.feels_like}</td>\n                        <td>{weather.weatherMain.temp}</td>\n                        <td>{weather.weatherMain.temp_max}</td>\n                        <td>{weather.weatherMain.temp_min}</td>\n                        <td>{weather.weather[0].description}</td>\n\n                    </tr>\n            )\n        }\n        </tbody>\n    )\n   }\n\n    paginate = (currentPage) => {\n       this.setState({currentPage : currentPage})\n    }\n\n    render() {\n        console.log(\"som v render\")\n\n        //to set page\n        const pagination = <Pagination itemsPerPage = {this.state.itemsPerPage} totalItems = {this.state.weathers.length} paginate={this.paginate.bind()}/>\n        const indexOfLastPost = this.state.currentPage * this.state.itemsPerPage;\n        const indexOfFirstPost = indexOfLastPost - this.state.itemsPerPage;\n        const currentWeathers = this.state.weathers.slice(indexOfFirstPost, indexOfLastPost);\n\n        let container= [this.filters(), pagination]\n\n        if (this.state.weathers)\n            container.push(<table className=\"table\">\n                {this.header()}\n                {this.mainBody(currentWeathers)}\n            </table>)\n\n        console.log(\"items per page: \" + this.state.itemsPerPage)\n\n        console.log(\"currentPage: \" + this.state.currentPage)\n       \n        return (\n            <div className=\"container\">\n             {container}\n            </div>\n        )\n         \n    }\n}\nexport default WeatherListComponent\n"]},"metadata":{},"sourceType":"module"}