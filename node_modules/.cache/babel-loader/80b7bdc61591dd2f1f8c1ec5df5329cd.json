{"ast":null,"code":"import _classCallCheck from\"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from'axios';var COURSE_API_URL='http://localhost:8080';var WEATHER_API_URL=\"\".concat(COURSE_API_URL,\"/weather\");var WeatherService=/*#__PURE__*/function(){function WeatherService(){_classCallCheck(this,WeatherService);}_createClass(WeatherService,[{key:\"retrieveAllWeathers\",value:function retrieveAllWeathers(sortBy,isAscending,filters,isFilter,weathers){var filterString=this.buildFilterString(filters);if(!weathers)weathers=[];var params={sortBy:sortBy,isAscending:isAscending,filterString:filterString,isFilter:isFilter};console.log(JSON.stringify(filters));return axios.post(\"\".concat(WEATHER_API_URL,\"/retrieve/fromDb\"),weathers,{params:params});}},{key:\"buildFilterString\",value:function buildFilterString(filters){var filterString=\"\";console.log(\"filters?.length: \"+(filters===null||filters===void 0?void 0:filters.length));for(var i=0;i<=(filters===null||filters===void 0?void 0:filters.length)-1;++i){filterString+=JSON.stringify(filters[i]);if(filters[i+1])filterString+=\",\";}return filterString;}}]);return WeatherService;}();export default new WeatherService();","map":{"version":3,"sources":["/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/src/service/WeatherService.js"],"names":["axios","COURSE_API_URL","WEATHER_API_URL","WeatherService","sortBy","isAscending","filters","isFilter","weathers","filterString","buildFilterString","params","console","log","JSON","stringify","post","length","i"],"mappings":"gSAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,cAAc,CAAG,uBAAvB,CACA,GAAMC,CAAAA,eAAe,WAAMD,cAAN,YAArB,C,GAEME,CAAAA,c,oLAEkBC,M,CAAQC,W,CAAaC,O,CAASC,Q,CAAUC,Q,CAAU,CAClE,GAAIC,CAAAA,YAAY,CAAG,KAAKC,iBAAL,CAAuBJ,OAAvB,CAAnB,CACA,GAAG,CAACE,QAAJ,CACIA,QAAQ,CAAG,EAAX,CACJ,GAAMG,CAAAA,MAAM,CAAG,CACXP,MAAM,CAANA,MADW,CACHC,WAAW,CAAXA,WADG,CACUI,YAAY,CAAZA,YADV,CACwBF,QAAQ,CAARA,QADxB,CAAf,CAGIK,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeT,OAAf,CAAZ,EACJ,MAAON,CAAAA,KAAK,CAACgB,IAAN,WAAcd,eAAd,qBAAiDM,QAAjD,CAA0D,CAACG,MAAM,CAANA,MAAD,CAA1D,CAAP,CACH,C,4DAEiBL,O,CAAQ,CACtB,GAAIG,CAAAA,YAAY,CAAG,EAAnB,CACAG,OAAO,CAACC,GAAR,CAAY,qBAAsBP,OAAtB,SAAsBA,OAAtB,iBAAsBA,OAAO,CAAEW,MAA/B,CAAZ,EACA,IAAI,GAAIC,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,EAAI,CAAAZ,OAAO,OAAP,EAAAA,OAAO,SAAP,QAAAA,OAAO,CAAEW,MAAT,EAAgB,CAApC,CAAuC,EAAEC,CAAzC,CAA2C,CACvCT,YAAY,EAAGK,IAAI,CAACC,SAAL,CAAeT,OAAO,CAACY,CAAD,CAAtB,CAAf,CACA,GAAIZ,OAAO,CAACY,CAAC,CAAC,CAAH,CAAX,CACIT,YAAY,EAAI,GAAhB,CACP,CACD,MAAOA,CAAAA,YAAP,CACH,C,8BAEL,cAAe,IAAIN,CAAAA,cAAJ,EAAf","sourcesContent":["import axios from 'axios'\n\nconst COURSE_API_URL = 'http://localhost:8080'\nconst WEATHER_API_URL = `${COURSE_API_URL}/weather`\n\nclass WeatherService {\n\n    retrieveAllWeathers(sortBy, isAscending, filters, isFilter, weathers) {\n        var filterString = this.buildFilterString(filters)\n        if(!weathers)\n            weathers = []\n        const params = {\n            sortBy, isAscending, filterString, isFilter\n        }\n            console.log(JSON.stringify(filters))\n        return axios.post(`${WEATHER_API_URL}/retrieve/fromDb`, weathers,{params});\n    }\n\n    buildFilterString(filters){\n        var filterString = \"\"\n        console.log(\"filters?.length: \" + filters?.length)\n        for(var i = 0; i <= filters?.length-1; ++i){\n            filterString+= JSON.stringify(filters[i]);\n            if (filters[i+1])\n                filterString += \",\"\n        }\n        return filterString\n    }\n}\nexport default new WeatherService()\n"]},"metadata":{},"sourceType":"module"}