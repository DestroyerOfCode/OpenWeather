{"ast":null,"code":"import axios from 'axios';\nimport { trackPromise } from 'react-promise-tracker';\nconst COURSE_API_URL = 'http://localhost:8080';\nconst WEATHER_API_URL = `${COURSE_API_URL}/weather`;\n\nclass WeatherService {\n  constructor() {\n    this.retrieveAllCountries = () => axios.get(`${WEATHER_API_URL}/countries`);\n\n    this.retrieveAllDescriptions = () => axios.get(`${WEATHER_API_URL}/descriptions`);\n  }\n\n  async retrieveAllWeathers(sortBy, isAscending, filters, isFilter, isAdditionalFilter, weathers) {\n    var filterString = this.buildFilterString(filters);\n    if (!weathers) weathers = [];\n    const params = {\n      sortBy,\n      isAscending,\n      filterString,\n      isFilter,\n      isAdditionalFilter\n    };\n    console.log(JSON.stringify(filters));\n    return trackPromise(await axios.post(`${WEATHER_API_URL}/retrieve/fromDb`, weathers, {\n      params\n    })); // return weathers\n  }\n\n  buildFilterString(filters) {\n    var filterString = \"\";\n    console.log(\"filters?.length: \" + (filters === null || filters === void 0 ? void 0 : filters.length));\n\n    for (var i = 0; i <= (filters === null || filters === void 0 ? void 0 : filters.length) - 1; ++i) {\n      filterString += JSON.stringify(filters[i]);\n      if (filters[i + 1]) filterString += \",\";\n    }\n\n    return filterString;\n  } // console.log(\"countries: \" + JSON.stringify(countries))\n  // return countries\n\n\n}\n\nexport default new WeatherService();","map":{"version":3,"sources":["/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/src/service/WeatherService.js"],"names":["axios","trackPromise","COURSE_API_URL","WEATHER_API_URL","WeatherService","retrieveAllCountries","get","retrieveAllDescriptions","retrieveAllWeathers","sortBy","isAscending","filters","isFilter","isAdditionalFilter","weathers","filterString","buildFilterString","params","console","log","JSON","stringify","post","length","i"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,uBAA7B;AAEA,MAAMC,cAAc,GAAG,uBAAvB;AACA,MAAMC,eAAe,GAAI,GAAED,cAAe,UAA1C;;AAEA,MAAME,cAAN,CAAqB;AAAA;AAAA,SA2BjBC,oBA3BiB,GA2BM,MAAOL,KAAK,CAACM,GAAN,CAAW,GAAEH,eAAgB,YAA7B,CA3Bb;;AAAA,SA4BjBI,uBA5BiB,GA4BS,MAAMP,KAAK,CAACM,GAAN,CAAW,GAAEH,eAAgB,eAA7B,CA5Bf;AAAA;;AAEjB,QAAMK,mBAAN,CAA0BC,MAA1B,EAAkCC,WAAlC,EAA+CC,OAA/C,EAAwDC,QAAxD,EAAkEC,kBAAlE,EAAsFC,QAAtF,EAAgG;AAC5F,QAAIC,YAAY,GAAG,KAAKC,iBAAL,CAAuBL,OAAvB,CAAnB;AACA,QAAG,CAACG,QAAJ,EACIA,QAAQ,GAAG,EAAX;AACJ,UAAMG,MAAM,GAAG;AACXR,MAAAA,MADW;AACHC,MAAAA,WADG;AACUK,MAAAA,YADV;AACwBH,MAAAA,QADxB;AACkCC,MAAAA;AADlC,KAAf;AAGIK,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeV,OAAf,CAAZ;AACA,WAAOV,YAAY,CACvB,MAAMD,KAAK,CAACsB,IAAN,CAAY,GAAEnB,eAAgB,kBAA9B,EAAiDW,QAAjD,EAA0D;AAACG,MAAAA;AAAD,KAA1D,CADiB,CAAnB,CARwF,CAWxF;AACP;;AAEDD,EAAAA,iBAAiB,CAACL,OAAD,EAAS;AACtB,QAAII,YAAY,GAAG,EAAnB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAsBR,OAAtB,aAAsBA,OAAtB,uBAAsBA,OAAO,CAAEY,MAA/B,CAAZ;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,IAAI,CAAAb,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEY,MAAT,IAAgB,CAApC,EAAuC,EAAEC,CAAzC,EAA2C;AACvCT,MAAAA,YAAY,IAAGK,IAAI,CAACC,SAAL,CAAeV,OAAO,CAACa,CAAD,CAAtB,CAAf;AACA,UAAIb,OAAO,CAACa,CAAC,GAAC,CAAH,CAAX,EACIT,YAAY,IAAI,GAAhB;AACP;;AACD,WAAOA,YAAP;AACH,GAzBgB,CA6Bb;AACA;;;AA9Ba;;AAkCrB,eAAe,IAAIX,cAAJ,EAAf","sourcesContent":["import axios from 'axios'\nimport { trackPromise } from 'react-promise-tracker';\n\nconst COURSE_API_URL = 'http://localhost:8080'\nconst WEATHER_API_URL = `${COURSE_API_URL}/weather`\n\nclass WeatherService {\n\n    async retrieveAllWeathers(sortBy, isAscending, filters, isFilter, isAdditionalFilter, weathers) {\n        var filterString = this.buildFilterString(filters)\n        if(!weathers)\n            weathers = []\n        const params = {\n            sortBy, isAscending, filterString, isFilter, isAdditionalFilter\n        }\n            console.log(JSON.stringify(filters))\n            return trackPromise(\n        await axios.post(`${WEATHER_API_URL}/retrieve/fromDb`, weathers,{params})\n            )\n            // return weathers\n    }\n\n    buildFilterString(filters){\n        var filterString = \"\"\n        console.log(\"filters?.length: \" + filters?.length)\n        for(var i = 0; i <= filters?.length-1; ++i){\n            filterString+= JSON.stringify(filters[i]);\n            if (filters[i+1])\n                filterString += \",\"\n        }\n        return filterString\n    }\n\n    retrieveAllCountries = () =>  axios.get(`${WEATHER_API_URL}/countries`)\n    retrieveAllDescriptions = () => axios.get(`${WEATHER_API_URL}/descriptions`)\n        // console.log(\"countries: \" + JSON.stringify(countries))\n        // return countries\n    \n\n}\nexport default new WeatherService()\n"]},"metadata":{},"sourceType":"module"}