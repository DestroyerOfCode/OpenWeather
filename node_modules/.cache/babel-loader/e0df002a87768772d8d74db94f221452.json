{"ast":null,"code":"import _regeneratorRuntime from\"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import WeatherCurrentService from'../../adapters/WeatherCurrentService';import Pagination from'./Pagination';import FiltersComponent from'./FiltersComponent';import{Link}from\"react-router-dom\";import{getWeatherDescription,displayDateTime,convertTemperature}from'../../businessLogic/WeatherBusinessLogic';import{temperatureDropdownList}from'buildingBlocks/commonBuildingBlocks';var WeatherListComponent=/*#__PURE__*/function(_Component){_inherits(WeatherListComponent,_Component);var _super=_createSuper(WeatherListComponent);function WeatherListComponent(props){var _this;_classCallCheck(this,WeatherListComponent);_this=_super.call(this,props);_this.addFilterOperatorToExistingFilterName=function(event,filterName,filterOperator){var arr=_this.state.filters;arr.forEach(function(item,index,filters){if(item.hasOwnProperty([filterName])){filters[index][filterName][filterOperator]=event;}});return arr;};_this.onChangeFilter=function(event,filterName,filterOperator){// console.log(\"event: \" + JSON.stringify(event))\n// console.log(\"filters: \" + JSON.stringify(this.state.filters))\nvar index;if(event===\"\"&&_this.keyExistsInArr(_this.state.filters,filterName)){console.log(\"inside 1\");index=_this.findIndexInFilters(_this.state.filters,filterName);_this.setState({currentPage:1,isFilter:true,isAdditionalFilter:false,filters:_this.changeFilters(index,filterName,filterOperator)},function(){this.refreshWeathers(this.state.sortBy,this.state.weathers);});}else if(event!==\"\"&&!_this.keyExistsInArr(_this.state.filters,filterName)){console.log(\"inside 2\");_this.setState({currentPage:1,isFilter:true,isAdditionalFilter:true,filters:_this.state.filters.concat([_defineProperty({},filterName,_defineProperty({},filterOperator,event))])},function(){// console.log(\"filters inside: \" + this.state.filters)\nthis.refreshWeathers(this.state.sortBy,this.state.weathers);});}else if(event!==\"\"&&_this.keyExistsInArr(_this.state.filters,filterName)){console.log(\"inside 3\");index=_this.findIndexInFilters(_this.state.filters,filterName);_this.setState({currentPage:1,isFilter:true,isAdditionalFilter:_this.isAdditionalFilterCheck(event,index,filterName,filterOperator),filters:_this.addFilterOperatorToExistingFilterName(event,filterName,filterOperator)},function(){this.refreshWeathers(this.state.sortBy,this.state.weathers);});}else{console.log(\"inside 4\");}};_this.getWeatherDescription=function(weather){var weatherItemReduce=function weatherItemReduce(prevVal,currVal,idx){return idx===0?currVal.description:prevVal+\", \"+currVal.description;};return weather.weather.reduce(weatherItemReduce,'');};_this.createForecast=function(){console.log(\"dfs\");return/*#__PURE__*/_jsx(Link,{to:\"/forecast\"});};_this.paginate=function(currentPage){_this.setState({currentPage:currentPage},function(){console.log(\"currPage: \"+this.state.currentPage);});};_this.getWeathersOnSpecificPage=function(){console.log('after pagination creation');var indexOfLastPost=_this.state.currentPage*_this.state.itemsPerPage;var indexOfFirstPost=indexOfLastPost-_this.state.itemsPerPage;return _this.state.weathers.slice(indexOfFirstPost,indexOfLastPost);};_this.state={weathers:[],isAscending:true,filters:[],isFilter:false,currentPage:1,itemsPerPage:1000,loading:false,isAdditionalFilter:false,pageNumbers:[],countries:[],descriptions:[],temperature:{units:'celsius',abbreviation:'°C'}};return _this;}_createClass(WeatherListComponent,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var countries,descriptions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"som v componentDidMOunt weather list\");_context.next=3;return WeatherCurrentService.retrieveAllCountries();case 3:countries=_context.sent;_context.next=6;return WeatherCurrentService.retrieveAllDescriptions();case 6:descriptions=_context.sent;this.setState({countries:countries.data,descriptions:descriptions.data},function(){this.refreshWeathers();});case 8:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"refreshWeathers\",value:function refreshWeathers(sortBy,weathers){var _this2=this;WeatherCurrentService.retrieveAllWeathers(sortBy,this.state.isAscending,this.state.filters,this.state.isFilter,this.state.isAdditionalFilter,weathers).then(function(response){_this2.setState({weathers:response.data});}).then(function(){if(sortBy)_this2.setState({isAscending:!_this2.state.isAscending});}).then(function(){if(typeof _this2.state.filters!=='undefined'&&_this2.state.filters===0)_this2.setState({isFilter:false});});}},{key:\"keyExistsInArr\",value:function keyExistsInArr(arr,key){var exists=false;console.log(\"arr inside keyExists: \"+JSON.stringify(arr));if(!Array.isArray(key)){arr===null||arr===void 0?void 0:arr.some(function(item){if(item.hasOwnProperty([key])){exists=true;return true;}else return false;});}//since countries and descriptions is a multicheckbox, they are arrays and it has multiple keys and must check not with equals\nelse{arr===null||arr===void 0?void 0:arr.some(function(item){if(item.includes([key])){exists=true;return true;}else return false;});}return exists;}},{key:\"findIndexInFilters\",value:function findIndexInFilters(arr,key){var indexOfKey=0;arr===null||arr===void 0?void 0:arr.some(function(filterName,index,filters){if(filterName.hasOwnProperty([key])){indexOfKey=index;return indexOfKey;}else return false;});return indexOfKey;}},{key:\"changeFilters\",value:function changeFilters(index,filterName,filterOperator){var arr=this.state.filters;console.log(\"arr inside changefilters: \"+JSON.stringify(arr));if(arr[index][filterName][filterOperator])delete arr[index][filterName][filterOperator];if(Object.keys(arr[index][filterName]).length===0)arr.splice(index,1);return arr;}},{key:\"isAdditionalFilterCheck\",value:function isAdditionalFilterCheck(event,index,filterName,filterOperator){if(this.isNotAdditionalFilterWithContains(event)===false)return false;console.log(\"this.state.filters[index][filterName][filterOperator]: \"+this.state.filters[index][filterName][filterOperator]);if(this.isSameFilterChanged(event,index,filterName,filterOperator)===false)return false;return true;}//if there are multiple countries and descriptions, backend must make a new query\n//since no additional filter is added, only value. I am unable to send query request\n//with an array element\n},{key:\"isNotAdditionalFilterWithContains\",value:function isNotAdditionalFilterWithContains(event){return event.includes(\",\")?false:true;}// this check is here for times when I change the same filter multiple\n// times in a row and the filter is same. If it is the same I cant filter\n// from memory because I could not load some weathers\n},{key:\"isSameFilterChanged\",value:function isSameFilterChanged(event,index,filterName,filterOperator){console.log(\"event: \"+event);console.log(\"this.state.filters[index][filterName][filterOperator]: \"+this.state.filters[index][filterName][filterOperator]);return filterName===this.state.filters[index][filterName];}},{key:\"header\",value:function header(){var _this3=this;return/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"_id\",_this3.state.weathers);},children:\"cityId\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"name\",_this3.state.weathers);},children:\"city Name\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"coord.lat\",_this3.state.weathers);},children:\"latitude\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"coord.lon\",_this3.state.weathers);},children:\"longitude\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"sys.country\",_this3.state.weathers);},children:\"country\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"weatherMain.humidity\",_this3.state.weathers);},children:\"humidity\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"weatherMain.feels_like\",_this3.state.weathers);},children:\"feels like\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"weatherMain.temp\",_this3.state.weathers);},children:\"temperature\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"weatherMain.temp_max\",_this3.state.weathers);},children:\"maximum temperature\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"weatherMain.temp_min\",_this3.state.weathers);},children:\"minimal temperature\"}),/*#__PURE__*/_jsx(\"th\",{onClick:function onClick(){return _this3.refreshWeathers(\"weather.description\",_this3.state.weathers);},children:\"description\"})]})});}// descriptions can be multiple per row, to display it I changed its elements to string delimetered by ','\n},{key:\"mainBody\",value:function mainBody(currentPosts,temperature){var _this4=this;return/*#__PURE__*/_jsx(\"tbody\",{children:currentPosts.map(function(weather){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:weather._id}),/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(Link,{to:{pathname:\"/forecast\",state:{\"lat\":weather.coord.lat,\"lon\":weather.coord.lon}},children:weather.name})]}),/*#__PURE__*/_jsx(\"td\",{children:weather.coord.lat}),/*#__PURE__*/_jsx(\"td\",{children:weather.coord.lon}),/*#__PURE__*/_jsx(\"td\",{children:weather.sys.country}),/*#__PURE__*/_jsx(\"td\",{children:weather.weatherMain.humidity}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(convertTemperature(temperature.units,weather.weatherMain.feels_like).toFixed(2)).concat(temperature.abbreviation)}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(convertTemperature(temperature.units,weather.weatherMain.temp).toFixed(2)).concat(temperature.abbreviation)}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(convertTemperature(temperature.units,weather.weatherMain.temp_max).toFixed(2)).concat(temperature.abbreviation)}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(convertTemperature(temperature.units,weather.weatherMain.temp_min).toFixed(2)).concat(temperature.abbreviation)}),/*#__PURE__*/_jsx(\"td\",{children:_this4.getWeatherDescription(weather)})]},weather._id);})});}},{key:\"render\",value:function render(){var _this5=this;console.log(\"som v render weather list\");var pagination=/*#__PURE__*/_jsx(Pagination,{itemsPerPage:this.state.itemsPerPage,totalItems:this.state.weathers.length,paginate:this.paginate.bind()});var currentWeathers=this.getWeathersOnSpecificPage();var filters=/*#__PURE__*/_jsx(FiltersComponent,{countries:this.state.countries,descriptions:this.state.descriptions,onChangeMethod:this.onChangeFilter});var temperatureDropdown=temperatureDropdownList(function(units,abbreviation){_this5.setState({\"temperature\":{\"units\":units,\"abbreviation\":abbreviation}});});var container=[temperatureDropdown,filters,pagination];if(this.state.weathers)container.push(/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[this.header(),this.mainBody(currentWeathers,this.state.temperature)]}));return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:container});}}]);return WeatherListComponent;}(Component);export default WeatherListComponent;","map":{"version":3,"sources":["/home/prepelicamangalica/WorkspaceGit/SuperProjekt/src/main/ui/src/components/current/WeatherCurrentComponent.js"],"names":["React","Component","WeatherCurrentService","Pagination","FiltersComponent","Link","getWeatherDescription","displayDateTime","convertTemperature","temperatureDropdownList","WeatherListComponent","props","addFilterOperatorToExistingFilterName","event","filterName","filterOperator","arr","state","filters","forEach","item","index","hasOwnProperty","onChangeFilter","keyExistsInArr","console","log","findIndexInFilters","setState","currentPage","isFilter","isAdditionalFilter","changeFilters","refreshWeathers","sortBy","weathers","concat","isAdditionalFilterCheck","weather","weatherItemReduce","prevVal","currVal","idx","description","reduce","createForecast","paginate","getWeathersOnSpecificPage","indexOfLastPost","itemsPerPage","indexOfFirstPost","slice","isAscending","loading","pageNumbers","countries","descriptions","temperature","units","abbreviation","retrieveAllCountries","retrieveAllDescriptions","data","retrieveAllWeathers","then","response","key","exists","JSON","stringify","Array","isArray","some","includes","indexOfKey","Object","keys","length","splice","isNotAdditionalFilterWithContains","isSameFilterChanged","currentPosts","map","_id","pathname","coord","lat","lon","name","sys","country","weatherMain","humidity","feels_like","toFixed","temp","temp_max","temp_min","pagination","bind","currentWeathers","temperatureDropdown","container","push","header","mainBody"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport WeatherCurrentService from '../../adapters/WeatherCurrentService';\nimport Pagination from './Pagination';\nimport FiltersComponent from './FiltersComponent'\nimport { Link } from \"react-router-dom\";\nimport {getWeatherDescription, displayDateTime, convertTemperature} from '../../businessLogic/WeatherBusinessLogic';\nimport {temperatureDropdownList} from 'buildingBlocks/commonBuildingBlocks'\n\nclass WeatherListComponent extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            weathers: [],\n            isAscending: true,\n            filters: [],\n            isFilter : false,\n            currentPage : 1,\n            itemsPerPage : 1000,\n            loading : false,\n            isAdditionalFilter : false,\n            pageNumbers : [],\n            countries : [],\n            descriptions: [],\n            temperature: {units: 'celsius', abbreviation: '°C'},            \n        }\n    }\n\n    async componentDidMount() {\n        console.log(\"som v componentDidMOunt weather list\")\n        const countries = await WeatherCurrentService.retrieveAllCountries()\n        const descriptions = await WeatherCurrentService.retrieveAllDescriptions()\n        this.setState({countries : countries.data, descriptions : descriptions.data}, function() {this.refreshWeathers();})\n        \n    }\n\n    refreshWeathers(sortBy, weathers) {\n\n        WeatherCurrentService.retrieveAllWeathers(sortBy, this.state.isAscending, this.state.filters, this.state.isFilter, this.state.isAdditionalFilter, weathers)\n            .then(\n                response => {\n                    this.setState({ weathers: response.data })\n                }\n            ).then( () => {if (sortBy) this.setState({isAscending : !this.state.isAscending})}\n            ).then( () => {if (typeof this.state.filters !== 'undefined' && this.state.filters === 0) this.setState({isFilter : false})})\n    }\n\n    keyExistsInArr(arr, key){\n        let exists = false\n        console.log(\"arr inside keyExists: \" + JSON.stringify(arr))\n        if (!Array.isArray(key)){\n            arr?.some(item => {\n                if(item.hasOwnProperty([key])) {\n                    exists = true;\n                    return true\n                }\n                else return false\n            })\n        }\n        //since countries and descriptions is a multicheckbox, they are arrays and it has multiple keys and must check not with equals\n        else{\n            arr?.some(item => {\n                if(item.includes([key])) {\n                    exists = true;\n                    return true\n                }\n                else return false\n            })\n        }\n        return exists\n    }\n\n    findIndexInFilters(arr, key){\n        let indexOfKey = 0\n        arr?.some((filterName, index, filters) => {\n            if(filterName.hasOwnProperty([key])){ \n                indexOfKey = index\n                return indexOfKey\n            }\n            else return false\n        })\n        return indexOfKey\n    }\n\n    changeFilters(index, filterName, filterOperator) {\n        let arr = this.state.filters\n        console.log(\"arr inside changefilters: \" + JSON.stringify(arr))\n\n        if (arr[index][filterName][filterOperator])\n            delete arr[index][filterName][filterOperator]  \n        if (Object.keys(arr[index][filterName]).length === 0)\n            arr.splice(index, 1)\n        return arr\n    }\n\n    addFilterOperatorToExistingFilterName = (event, filterName, filterOperator) => {\n        const arr = this.state.filters\n        arr.forEach((item, index, filters) => {\n            if (item.hasOwnProperty([filterName])){\n                filters[index][filterName][filterOperator] = event\n            }\n        })\n        return arr\n    }\n\n    onChangeFilter = (event, filterName, filterOperator) => {\n        // console.log(\"event: \" + JSON.stringify(event))\n        // console.log(\"filters: \" + JSON.stringify(this.state.filters))\n        var index;\n\n        if (event === \"\" && this.keyExistsInArr(this.state.filters,filterName))  {\n            console.log(\"inside 1\")\n\n            index = this.findIndexInFilters(this.state.filters, filterName)\n            this.setState({currentPage : 1, isFilter : true, isAdditionalFilter : false, filters : this.changeFilters(index, filterName, filterOperator)}, function () {\n                this.refreshWeathers(this.state.sortBy, this.state.weathers)\n            })\n        }\n\n        else if (event !== \"\" && !(this.keyExistsInArr(this.state.filters, filterName))){\n            console.log(\"inside 2\")\n\n            this.setState({currentPage : 1, isFilter : true, isAdditionalFilter : true,\n                 filters: this.state.filters.concat([{[filterName]: {[filterOperator] : event}}])}, function () {\n                // console.log(\"filters inside: \" + this.state.filters)\n                this.refreshWeathers(this.state.sortBy, this.state.weathers)\n            })\n\n        }\n\n        else if (event !== \"\" && (this.keyExistsInArr(this.state.filters, filterName))){\n           \n            console.log(\"inside 3\")\n            index = this.findIndexInFilters(this.state.filters, filterName)\n\n            \n            this.setState({currentPage : 1, isFilter : true, isAdditionalFilter : this.isAdditionalFilterCheck(event, index, filterName, filterOperator), \n                filters : this.addFilterOperatorToExistingFilterName(event, filterName, filterOperator)}, function() {\n                    this.refreshWeathers(this.state.sortBy, this.state.weathers)\n            })\n           \n        }\n        else {\n            console.log(\"inside 4\")\n\n        }\n    }\n\n    isAdditionalFilterCheck(event, index, filterName, filterOperator){\n        if (this.isNotAdditionalFilterWithContains(event) === false)\n            return false\n        console.log(\"this.state.filters[index][filterName][filterOperator]: \" + this.state.filters[index][filterName][filterOperator])\n        if (this.isSameFilterChanged(event, index, filterName, filterOperator) === false)\n            return false\n        return true\n                \n    }   \n\n    //if there are multiple countries and descriptions, backend must make a new query\n    //since no additional filter is added, only value. I am unable to send query request\n    //with an array element\n    isNotAdditionalFilterWithContains(event){\n       return event.includes(\",\") ? false : true\n    }\n    \n    // this check is here for times when I change the same filter multiple\n    // times in a row and the filter is same. If it is the same I cant filter\n    // from memory because I could not load some weathers\n    isSameFilterChanged(event, index, filterName, filterOperator){\n        console.log(\"event: \" + event)\n        console.log(\"this.state.filters[index][filterName][filterOperator]: \" + this.state.filters[index][filterName][filterOperator])\n       return filterName === this.state.filters[index][filterName]\n    }\n    header(){\n       return (<thead>\n       <tr>\n           <th onClick={() =>this.refreshWeathers(\"_id\", this.state.weathers) }>cityId</th>\n           <th onClick={() =>this.refreshWeathers(\"name\", this.state.weathers) }>city Name</th>\n           <th onClick={() =>this.refreshWeathers(\"coord.lat\", this.state.weathers) }>latitude</th>\n           <th onClick={() =>this.refreshWeathers(\"coord.lon\", this.state.weathers) }>longitude</th>\n           <th onClick={() =>this.refreshWeathers(\"sys.country\", this.state.weathers) }>country</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.humidity\", this.state.weathers) }>humidity</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.feels_like\", this.state.weathers) }>feels like</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.temp\", this.state.weathers) }>temperature</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.temp_max\", this.state.weathers) }>maximum temperature</th>\n           <th onClick={() =>this.refreshWeathers(\"weatherMain.temp_min\", this.state.weathers) }>minimal temperature</th>\n           <th onClick={() =>this.refreshWeathers(\"weather.description\", this.state.weathers) }>description</th>                                \n       </tr>\n   </thead>)\n   }\n\n   // descriptions can be multiple per row, to display it I changed its elements to string delimetered by ','\n    getWeatherDescription = (weather) => {\n        var weatherItemReduce = (prevVal, currVal, idx) => {\n            return idx === 0 ? currVal.description : prevVal + \", \" + currVal.description;\n        }\n\n        return weather.weather.reduce(weatherItemReduce, '')\n    }\n\ncreateForecast = ()=>{\n    console.log(\"dfs\")\n    return (\n        <Link  to= '/forecast'></Link>\n    );\n}\n\n   mainBody(currentPosts, temperature){\n    return (\n\n    <tbody>\n        {\n            currentPosts.map(\n                weather =>{\n                    return (<tr key={weather._id}>\n                        <td>{weather._id}</td>\n                        <td> <Link to={{pathname: \"/forecast\", state: {\"lat\": weather.coord.lat, \"lon\": weather.coord.lon} }}>{weather.name}</Link></td>\n                        <td>{weather.coord.lat}</td>\n                        <td>{weather.coord.lon}</td>\n                        <td>{weather.sys.country}</td>\n                        <td>{weather.weatherMain.humidity}</td>\n                        <td>{`${convertTemperature(temperature.units, weather.weatherMain.feels_like).toFixed(2)}${temperature.abbreviation}`}</td>\n                        <td>{`${convertTemperature(temperature.units, weather.weatherMain.temp).toFixed(2)}${temperature.abbreviation}`}</td>\n                        <td>{`${convertTemperature(temperature.units, weather.weatherMain.temp_max).toFixed(2)}${temperature.abbreviation}`}</td>\n                        <td>{`${convertTemperature(temperature.units, weather.weatherMain.temp_min).toFixed(2)}${temperature.abbreviation}`}</td>\n                        <td>{this.getWeatherDescription(weather)}</td>\n                    </tr>)}\n            )\n        }\n        </tbody>\n    )\n   }\n\n    paginate = (currentPage) => {\n       this.setState({currentPage : currentPage}, function(){\n           console.log(\"currPage: \" + this.state.currentPage)\n       })\n\n    }\n\n    getWeathersOnSpecificPage = () => {\n        console.log('after pagination creation')\n        const indexOfLastPost = this.state.currentPage * this.state.itemsPerPage;\n        const indexOfFirstPost = indexOfLastPost - this.state.itemsPerPage;\n        return this.state.weathers.slice(indexOfFirstPost, indexOfLastPost);\n    }\n\n    render() {\n        console.log(\"som v render weather list\")\n\n        const pagination = <Pagination itemsPerPage = {this.state.itemsPerPage} totalItems = {this.state.weathers.length} paginate={this.paginate.bind()}/>\n\n        const currentWeathers = this.getWeathersOnSpecificPage()\n        const filters = <FiltersComponent countries = {this.state.countries} descriptions = {this.state.descriptions} onChangeMethod={this.onChangeFilter} />\n        const temperatureDropdown = temperatureDropdownList( (units, abbreviation ) => {\n            this.setState({\"temperature\": {\"units\" : units, \"abbreviation\" : abbreviation}})})\n\n        let container= [temperatureDropdown, filters, pagination]\n\n        if (this.state.weathers)\n            container.push(<table className=\"table\">\n                {this.header()}\n                {this.mainBody(currentWeathers, this.state.temperature)}\n            </table>)\n\n        return (\n            <div className=\"container\">\n             {container}\n            </div>\n        )\n         \n    }\n}\nexport default WeatherListComponent\n"]},"metadata":{},"sourceType":"module"}